[Monkeytype hack](javascript:(function(){const id='mt-custom-fixed';if(document.getElementById(id))return;const savedSpd=localStorage.getItem('mt-fun-sp')||'500';const savedLines=localStorage.getItem('mt-fun-lines')||'10';const g=document.createElement('div');g.id=id;Object.assign(g.style,{position:'fixed',bottom:'20px',right:'20px',width:'220px',background:'#1b1d1f',color:'#ff4754',padding:'15px',borderRadius:'10px',zIndex:'99999',border:'2px solid #ff4754',fontFamily:'monospace',textAlign:'center',boxShadow:'0 0 30px #ff4754'});g.innerHTML=`<div style='font-weight:bold;margin-bottom:10px;font-size:14px;'>☢️ CUSTOM LINE NUKE</div><div id='st' style='padding:8px;background:#ca4754;border-radius:4px;font-weight:bold;color:#1e1e20;margin-bottom:10px;font-size:12px'>OFF</div><div style='font-size:11px;margin-bottom:5px'>Lines per burst:</div><input type='number' id='l-num' value='${savedLines}' style='width:80px;background:#2c2e31;border:1px solid #ff4754;color:white;text-align:center;margin-bottom:10px;border-radius:4px;padding:5px;outline:none;'><div style='font-size:11px;margin-bottom:5px'>Delay (ms):</div><input type='range' id='s-sld' min='100' max='5000' value='${savedSpd}' style='width:100%;cursor:pointer;accent-color:#ff4754'><div id='v' style='font-size:11px;margin-top:5px'>${savedSpd}ms</div><div style='font-size:9px;color:#646669;margin-top:10px'>[CTRL] Start | [ALT] Hide</div>`;document.body.appendChild(g);const sld=document.getElementById('s-sld'),val=document.getElementById('v'),lnum=document.getElementById('l-num');/* แก้ไข: ป้องกัน Monkeytype แย่ง Focus เวลาพิมพ์ตัวเลข */const stopEvent=(e)=>e.stopPropagation();lnum.addEventListener('keydown',stopEvent);lnum.addEventListener('keypress',stopEvent);lnum.addEventListener('keyup',stopEvent);lnum.addEventListener('mousedown',stopEvent);sld.oninput=()=>{val.innerText=sld.value+'ms';localStorage.setItem('mt-fun-sp',sld.value);};lnum.onchange=()=>{localStorage.setItem('mt-fun-lines',lnum.value);};let r=false, h=false;window.onkeydown=e=>{if(e.target.tagName==='INPUT')return; /* ถ้าพิมพ์อยู่ในช่อง GUI ไม่ต้องเริ่มบอท */if(e.key==='Control'){r=!r;const st=document.getElementById('st');st.innerText=r?'RUNNING':'OFF';st.style.background=r?'#91d18b':'#ca4754';if(r)typeLoop();}if(e.key==='Alt'){h=!h;g.style.display=h?'none':'block';e.preventDefault();}};const sleep=m=>new Promise(res=>setTimeout(res,m));const typeLoop=async()=>{while(r){const input=document.querySelector('#wordsInput'),active=document.querySelector('.word.active');if(active && input){const words=Array.from(document.querySelectorAll('.word'));const activeIndex=words.indexOf(active);const linesToZap=parseInt(lnum.value)||1;let allTops=[...new Set(words.slice(activeIndex).map(w=>w.offsetTop))];let targetTops=allTops.slice(0,linesToZap);let bigText='';for(let i=activeIndex;i<words.length;i++){if(targetTops.includes(words[i].offsetTop)){let wordTxt='';words[i].querySelectorAll('letter').forEach(l=>wordTxt+=l.innerText);bigText+=wordTxt+' ';}else if(words[i].offsetTop > Math.max(...targetTops)){break;}}input.value=bigText;input.dispatchEvent(new InputEvent('input',{bubbles:true,data:bigText,inputType:'insertText'}));input.value='';await sleep(parseInt(sld.value));}else{await sleep(100);}}};})();)
